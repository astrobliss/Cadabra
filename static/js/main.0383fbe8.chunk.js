(this.webpackJsonpcadabra=this.webpackJsonpcadabra||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(5),l=a.n(r),i=(a(15),a(2)),c=a(4),h=a(8),o=a(7),u=a(3),m=a(9),d=function e(t,a,n,s,r){Object(i.a)(this,e),this.name=t,this.price=a,this.site=n,this.url=s,this.imageURL=r},p=a(1),g=a.n(p),b=function(){function e(t){Object(i.a)(this,e),this.city="seattle",this.baseHost="https://cors-anywhere.herokuapp.com/https://".concat(this.city,".craigslist.org/search/sss?format=rss&\n        sort=").concat(e.sortType[t],"&query=")}return Object(c.a)(e,[{key:"searchItem",value:function(e){console.log("Searching for ".concat(e," on Craigslist..."));var t=[],a=this.baseHost+e;return g.a.ajax(a,{accepts:{xml:"application/rss+xml"},dataType:"xml",crossDomain:!0,async:!1,success:function(e){g()(e).find("item").each((function(){var e=g()(this),a=e.find("title").text(),n=a,s=0;-1!==a.indexOf("&#x0024;")&&(s=a.substr(a.lastIndexOf("&#x0024;")+"&#x0024;".length),n=a.substr(0,a.lastIndexOf("&#x0024;")));var r=e.find("link").text(),l=e.find("enc\\:enclosure").attr("resource");t.push(new d(n,s,"craigslist",r,l))}))}}),t}}]),e}();b.sortType={ASCENDING:"asc",DECENDING:"dec",NOSORT:"rel"};var f=b,E=function(){function e(t){Object(i.a)(this,e),this.baseHost="https://cors-anywhere.herokuapp.com/https://www.newegg.com/d/Product/RSS?Submit=ENE&IsNodeId=1&Order=".concat(e.sortType[t],"\n        &ShowDeactivatedMark=False&Description=")}return Object(c.a)(e,[{key:"searchItem",value:function(e){console.log("Searching for ".concat(e," on NewEgg..."));var t=[],a=this.baseHost+e;return g.a.ajax({url:a,type:"GET",dataType:"xml",crossDomain:!0,async:!1,success:function(e){g()(e).find("item").each((function(){var e=g()(this),a=e.find("title").text(),n=e.find("description").text(),s=n.indexOf('<img border="0" src="')+'<img border="0" src="'.length,r=a.substr(a.indexOf(" - ")+" - ".length),l=a.substr(a.indexOf("$")+"$".length,a.indexOf(" ")),i=e.find("link").text();n.substr(s,n.indexOf('" ',s)-s);t.push(new d(r,l,"newegg",i))}))},error:function(e){console.log("FAILED"),console.log("START"+g()(e).text())}}),t}}]),e}();E.sortType={ASCENDING:"PRICE",DECENDING:"PRICED",NOSORT:""};var v=E,S=function(){function e(t){Object(i.a)(this,e),this.baseHost="https://cors-anywhere.herokuapp.com/https://www.ebay.com/sch/i.html?_from=R40&_trksid=m570.l131\n        3&_sacat=0&_rss=1".concat(e.sortType[t],"&_nkw=")}return Object(c.a)(e,[{key:"searchItem",value:function(e){console.log("Searching for ".concat(e," on Ebay..."));var t=this.baseHost+e,a=[];return g.a.ajax({url:t,type:"GET",dataType:"xml",crossDomain:!0,async:!1,success:function(e){g()(e).find("item").each((function(){var e=g()(this),t=e.find("description").text(),n=t.indexOf("<strong>$")+"<strong>$".length,s=t.indexOf('<img border="0" src="')+'<img border="0" src="'.length,r=e.find("link").text(),l=e.find("title").text(),i=t.substr(n,t.indexOf("</strong>",n)-n),c=t.substr(s,t.indexOf('">',s)-s);a.push(new d(l,i,"ebay",r,c))}))}}),a}}]),e}();S.sortType={ASCENDING:"&_sop=15",DECENDING:"&_sop=16",NOSORT:""};var C=S,y=(a(16),"all"),x="none",O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(h.a)(this,Object(o.a)(t).call(this,e))).state={value:"",site:y,min:"",max:"",productSort:x},a.craigslist=new f("NOSORT"),a.newegg=new v("NOSORT"),a.ebay=new C("NOSORT"),a.advancedSearch=!1,a.results=[],a.filteredResults=[],a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.handleSiteChange=a.handleSiteChange.bind(Object(u.a)(a)),a.handleMinChange=a.handleMinChange.bind(Object(u.a)(a)),a.handleMaxChange=a.handleMaxChange.bind(Object(u.a)(a)),a.handleSortChange=a.handleSortChange.bind(Object(u.a)(a)),a.handleSearchChange=a.handleSearchChange.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value,site:this.state.site,min:this.state.min,max:this.state.max,productSort:this.state.productSort})}},{key:"handleSubmit",value:function(e){if(this.state.min.length>0&&this.state.max.length>0&&parseInt(this.state.min,10)>parseInt(this.state.max,10))alert("Minimum price can't be greater than maximum price");else{var t=[],a=[];if("newegg"===this.state.site||"all"===this.state.site){a=this.newegg.searchItem(this.state.value);for(var n=0;n<10&&n<a.length;n++)t.push(a[n])}if("ebay"===this.state.site||"all"===this.state.site){a=this.ebay.searchItem(this.state.value);for(var r=0;r<10&&r<a.length;r++)t.push(a[r])}if("craigslist"===this.state.site||"all"===this.state.site){a=this.craigslist.searchItem(this.state.value);for(var i=0;i<10&&i<a.length;i++)t.push(a[i])}this.results=t,0===this.state.productSort.localeCompare("ascending")?t.sort((function(e,t){return parseInt(e.price,10)-parseInt(t.price,10)})):0===this.state.productSort.localeCompare("descending")&&t.sort((function(e,t){return parseInt(t.price,10)-parseInt(e.price,10)}));for(var c=[],h=0;h<t.length;h++){var o=!1;if(this.state.min.length>0&&this.state.max.length>0){var u=parseInt(this.state.min,10),m=parseInt(this.state.max,10);o=parseInt(t[h].price,10)>=u&&parseInt(t[h].price,10)<=m}else if(this.state.min.length>0){var d=parseInt(this.state.min,10);o=parseInt(t[h].price,10)>=d}else if(this.state.max.length>0){var p=parseInt(this.state.max,10);o=parseInt(t[h].price,10)<=p}else o=!0;0!==this.state.site.localeCompare("all")&&0!==this.state.site.localeCompare(t[h].site)&&(o=!1),!0===o&&c.push(s.a.createElement("li",{key:h},t[h].name,", $",t[h].price,", ",s.a.createElement("a",{href:t[h].url,target:"_blank",rel:"noopener noreferrer"},t[h].site),s.a.createElement("br",null),s.a.createElement("br",null)))}c.length>0?l.a.render(s.a.createElement("ul",null,c),document.getElementById("results")):(l.a.render(s.a.createElement("p",null),document.getElementById("results")),alert("No results found")),e.preventDefault()}}},{key:"handleSiteChange",value:function(e){if(this.setState({value:this.state.value,site:e.target.value,min:this.state.min,max:this.state.max,productSort:this.state.productSort}),this.results.length>0){for(var t=[],a=0;a<this.results.length;a++){var n=!0;0!==e.target.value.localeCompare("all")&&0!==e.target.value.localeCompare(this.results[a].site)&&(n=!1),!0===n&&t.push(s.a.createElement("li",{key:a},"Name: ",this.results[a].name,", $",this.results[a].price,", ",s.a.createElement("a",{href:this.results[a].url,target:"_blank",rel:"noopener noreferrer"},this.results[a].site),s.a.createElement("br",null),s.a.createElement("br",null)))}l.a.render(s.a.createElement("ul",null,t),document.getElementById("results"))}}},{key:"handleMinChange",value:function(e){this.setState({value:this.state.value,site:this.state.site,min:e.target.value,max:this.state.max,productSort:this.state.productSort})}},{key:"handleMaxChange",value:function(e){this.setState({value:this.state.value,site:this.state.site,min:this.state.min,max:e.target.value,productSort:this.state.productSort})}},{key:"handleSortChange",value:function(e){if(this.setState({value:this.state.value,site:this.state.site,min:this.state.min,max:this.state.max,productSort:e.target.value}),this.results.length>0){0===e.target.value.localeCompare("ascending")?this.results.sort((function(e,t){return parseInt(e.price,10)-parseInt(t.price,10)})):0===e.target.value.localeCompare("descending")&&this.results.sort((function(e,t){return parseInt(t.price,10)-parseInt(e.price,10)}));for(var t=[],a=0;a<this.results.length;a++){var n=!0;0!==this.state.site.localeCompare("all")&&0!==this.state.site.localeCompare(this.results[a].site)&&(n=!1),!0===n&&t.push(s.a.createElement("li",{key:a},"Name: ",this.results[a].name,", $",this.results[a].price,", ",s.a.createElement("a",{href:this.results[a].url,target:"_blank",rel:"noopener noreferrer"},this.results[a].site),s.a.createElement("br",null),s.a.createElement("br",null)))}l.a.render(s.a.createElement("ul",null,t),document.getElementById("results"))}}},{key:"handleSearchChange",value:function(e){!0===this.advancedSearch?(this.advancedSearch=!1,this.setState({value:this.state.value,site:y,min:"",max:"",productSort:x})):this.advancedSearch=!0,this.forceUpdate()}},{key:"render",value:function(){return!1===this.advancedSearch?s.a.createElement("div",{className:"SearchForm"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"SearchBar"},s.a.createElement("label",null,s.a.createElement("input",{type:"text",placeholder:"Search...",value:this.state.value,onChange:this.handleChange})),s.a.createElement("button",{type:"submit"},s.a.createElement("i",{className:"fa fa-search"})),s.a.createElement("br",null),s.a.createElement("br",null)),s.a.createElement("label",null,s.a.createElement("a",{href:"#",onClick:this.handleSearchChange},"Advanced")),s.a.createElement("br",null),s.a.createElement("br",null))):s.a.createElement("div",{className:"SearchForm"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"SearchBar"},s.a.createElement("label",null,s.a.createElement("input",{type:"text",placeholder:"Search...",value:this.state.value,onChange:this.handleChange})),s.a.createElement("button",{type:"submit"},s.a.createElement("i",{className:"fa fa-search"})),s.a.createElement("br",null),s.a.createElement("br",null)),s.a.createElement("label",null,s.a.createElement("a",{href:"#",onClick:this.handleSearchChange},"Advanced")),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{id:"advanced_search"},"Price Range: ",s.a.createElement("input",{id:"min",type:"number",name:"min_price",placeholder:"min",className:"PriceRange",title:"Enter whole number, no letters, no symbols",value:this.state.min,onChange:this.handleMinChange}),"~",s.a.createElement("input",{id:"max",type:"number",name:"max_price",placeholder:"max",className:"PriceRange",title:"Enter whole number, no letters, no symbols",value:this.state.max,onChange:this.handleMaxChange}),s.a.createElement("br",null),s.a.createElement("br",null),"Sort Products by Price: ",s.a.createElement("label",{className:"radio-inline"},s.a.createElement("input",{id:"noSort",type:"radio",name:"sort",value:"none",onChange:this.handleSortChange,defaultChecked:!0}),"  No Sort"),s.a.createElement("label",{className:"radio-inline"},s.a.createElement("input",{id:"ascending",type:"radio",name:"sort",value:"ascending",onChange:this.handleSortChange}),"  Ascending"),s.a.createElement("label",{className:"radio-inline"},s.a.createElement("input",{id:"descending",type:"radio",name:"sort",value:"descending",onChange:this.handleSortChange}),"  Descending"),s.a.createElement("br",null),s.a.createElement("br",null),"Marketplaces: ",s.a.createElement("label",{className:"radio-inline"},s.a.createElement("input",{id:"all",type:"radio",name:"site",value:"all",onChange:this.handleSiteChange,defaultChecked:!0}),"  All"),s.a.createElement("label",{className:"radio-inline"},s.a.createElement("input",{id:"amazon",type:"radio",name:"site",value:"newegg",onChange:this.handleSiteChange}),"  Newegg"),s.a.createElement("label",{className:"radio-inline"},s.a.createElement("input",{id:"ebay",type:"radio",name:"site",value:"ebay",onChange:this.handleSiteChange}),"  Ebay"),s.a.createElement("label",{className:"radio-inline"},s.a.createElement("input",{id:"craigslist",type:"radio",name:"site",value:"craigslist",onChange:this.handleSiteChange}),"  Craigslist"),s.a.createElement("br",null),s.a.createElement("br",null))))}}]),t}(s.a.Component);l.a.render(s.a.createElement("h1",{style:{fontSize:"120",border:"dashed purple 5px"}}," Cadabra "),document.getElementById("root")),l.a.render(s.a.createElement(O,null),document.getElementById("search"))}},[[10,1,2]]]);
//# sourceMappingURL=main.0383fbe8.chunk.js.map