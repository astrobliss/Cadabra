{"version":3,"sources":["SearchResult.js","Craigslist.js","NewEgg.js","Ebay.js","SearchForm.js","index.js"],"names":["SearchResult","name","price","site","url","imageURL","this","CraigsList","sort","city","baseHost","sortType","item","console","log","results","feed","$","ajax","accepts","xml","dataType","crossDomain","async","success","data","find","each","curItem","titleText","text","indexOf","substr","lastIndexOf","length","imageUrl","attr","push","NewEgg","type","xmlResponse","descriptionText","imageIndex","error","Ebay","priceIndex","imageUrlIndex","defaultSite","defaultSort","SearchForm","props","state","value","min","max","productSort","craigslist","newegg","ebay","advancedSearch","filteredResults","handleChange","bind","handleSubmit","handleSiteChange","handleMinChange","handleMaxChange","handleSortChange","handleSearchChange","event","setState","target","parseInt","alert","apiResults","searchItem","i","localeCompare","a","b","items","flag","key","href","rel","ReactDOM","render","document","getElementById","preventDefault","forceUpdate","className","onSubmit","placeholder","onChange","onClick","id","title","defaultChecked","React","Component","style","fontSize","border"],"mappings":"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","file":"static/js/main.0383fbe8.chunk.js","sourcesContent":["class SearchResult {\n    constructor(name, price, site, url, imageURL) {\n        this.name = name;\n        this.price = price;\n        this.site = site;\n        this.url = url;\n        this.imageURL = imageURL;\n    }\n}\n\nexport default SearchResult;","import SearchResult from \"./SearchResult\";\nimport $ from \"jquery\"\n\nclass CraigsList {\n    constructor(sort) {     // we use \"https://cors-anywhere.herokuapp.com/\" as a proxy to circumvent CORS errors\n        this.city = 'seattle';    // default, this would need to be changed in a production build\n        this.baseHost = `https://cors-anywhere.herokuapp.com/https://${this.city}.craigslist.org/search/sss?format=rss&\n        sort=${CraigsList.sortType[sort]}&query=`\n    }\n\n    static sortType= {\n        'ASCENDING': 'asc',\n        'DECENDING': 'dec',\n        'NOSORT': 'rel'\n    };\n\n    searchItem(item) {      // returns an array of SearchResult objects\n        console.log(`Searching for ${item} on Craigslist...`);\n        let results = [];\n        let feed = this.baseHost + item;\n        $.ajax(feed, {\n            accepts:{\n                xml:\"application/rss+xml\"\n            },\n            dataType:\"xml\",\n            crossDomain: true,\n            async: false,\n            success:function(data) {\n\n                $(data).find(\"item\").each(function () {\n                    var curItem = $(this);\n                    let titleText = curItem.find(\"title\").text();\n                    let dollarSignHex = '&#x0024;';\n                    let name = titleText;\n                    let price = 0;\n                    if(titleText.indexOf(dollarSignHex)!==-1) {\n                        price = titleText.substr(titleText.lastIndexOf(dollarSignHex) + dollarSignHex.length);\n                        name = titleText.substr(0,titleText.lastIndexOf(dollarSignHex));\n                    }\n                    let site = 'craigslist';\n                    let url = curItem.find(\"link\").text();\n                    let imageUrl = curItem.find('enc\\\\:enclosure').attr('resource');\n                    results.push(new SearchResult(name,price,site,url,imageUrl));\n                });\n            }\n        });\n        return results;\n    }\n}\n\nexport default CraigsList;","import SearchResult from \"./SearchResult\";\nimport $ from \"jquery\"\n\nclass NewEgg {\n    constructor(sort) {     // we use \"https://cors-anywhere.herokuapp.com/\" as a proxy to circumvent CORS errors\n        this.baseHost = `https://cors-anywhere.herokuapp.com/https://www.newegg.com/d/Product/RSS?Submit=ENE&IsNodeId=1&Order=${NewEgg.sortType[sort]}\n        &ShowDeactivatedMark=False&Description=`\n    }\n\n    static sortType = {\n        'ASCENDING': 'PRICE',\n        'DECENDING': 'PRICED',\n        'NOSORT': ''\n    };\n\n    searchItem(item) {      // returns an array of SearchResult objects\n        console.log(`Searching for ${item} on NewEgg...`);\n        let results = [];\n        let feed = this.baseHost + item;\n        $.ajax( {\n            url: feed,\n            type: 'GET',\n            dataType:\"xml\",\n            crossDomain: true,\n            async: false,\n            success: function(xmlResponse) {\n                $(xmlResponse).find(\"item\").each(function () {\n                    var curItem = $(this);\n                    let titleText = curItem.find(\"title\").text();\n                    let pricePrefix = '$';\n                    let titlePrefix = ' - ';\n                    let imagePrefix = '<img border=\"0\" src=\"';\n                    let imageSuffix = '\" ';\n                    let descriptionText = curItem.find(\"description\").text();\n                    let imageIndex = descriptionText.indexOf(imagePrefix)+imagePrefix.length;\n                    let name = titleText.substr(titleText.indexOf(titlePrefix) + titlePrefix.length);\n                    let price = titleText.substr(titleText.indexOf(pricePrefix)+pricePrefix.length,titleText.indexOf(' '));\n                    let site = 'newegg';\n                    let url = curItem.find(\"link\").text();\n                    let imageUrl = 'https:' + descriptionText.substr(imageIndex,descriptionText.indexOf(imageSuffix,imageIndex)-imageIndex);\n                    results.push(new SearchResult(name,price,site,url));\n                });\n            },\n            error: function(data){\n                console.log(\"FAILED\");\n                console.log('START'+$(data).text())\n            }\n        });\n        return results;\n    }\n}\n\nexport default NewEgg;","import $ from \"jquery\";\nimport SearchResult from \"./SearchResult\";\n\nclass Ebay {\n    constructor(sort) {     // we use \"https://cors-anywhere.herokuapp.com/\" as a proxy to circumvent CORS errors\n        this.baseHost = `https://cors-anywhere.herokuapp.com/https://www.ebay.com/sch/i.html?_from=R40&_trksid=m570.l131\n        3&_sacat=0&_rss=1${Ebay.sortType[sort]}&_nkw=`;\n    }\n\n    static sortType = {\n        'ASCENDING': '&_sop=15',\n        'DECENDING': '&_sop=16',\n        'NOSORT': ''\n    };\n    searchItem(item) {      // returns an array of SearchResult objects\n        console.log(`Searching for ${item} on Ebay...`);\n        let feed = this.baseHost + item;\n        let results = [];\n        $.ajax( {\n            url: feed,\n            type: 'GET',\n            dataType:\"xml\",\n            crossDomain: true,\n            async: false,\n            success: function(xmlResponse) {\n                $(xmlResponse).find(\"item\").each(function () {\n                    var curItem = $(this);\n                    let pricePrefix = '<strong>$';\n                    let priceSuffix = '</strong>';\n                    let imageUrlPrefix = '<img border=\"0\" src=\"';\n                    let imageUrlSuffix = '\">';\n                    let descriptionText = curItem.find('description').text();\n                    let priceIndex = descriptionText.indexOf(pricePrefix)+pricePrefix.length;\n                    let imageUrlIndex = descriptionText.indexOf(imageUrlPrefix)+imageUrlPrefix.length;\n                    let url = curItem.find(\"link\").text();\n                    let name = curItem.find('title').text();\n                    let price = descriptionText.substr(priceIndex,descriptionText.indexOf(priceSuffix,priceIndex)-priceIndex);\n                    let imageUrl = descriptionText.substr(imageUrlIndex,descriptionText.indexOf(imageUrlSuffix,imageUrlIndex)-imageUrlIndex);\n                    let site = 'ebay';\n                    results.push(new SearchResult(name,price,site,url,imageUrl));\n                });\n            }\n        });\n        return results;\n    }\n}\n\nexport default Ebay;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport CraigsList from './Craigslist';\nimport NewEgg from \"./NewEgg\";\nimport Ebay from \"./Ebay\";\nimport './SearchForm.css';\n\n\n// Constants, maybe put this in class later?\nconst defaultSite = 'all';\nconst defaultSort = 'none';\nconst defaultResultLimit = 10;      // limits how many results we pull from the APIs\n\nclass SearchForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: '',                          // user input in the search box\n            site: defaultSite,                  // site(s) to search\n            min: '',                            // min price\n            max: '' ,                           // max price\n            productSort: defaultSort            // sorting\n        };\n\n        // API objects\n        this.craigslist = new CraigsList('NOSORT');\n        this.newegg = new NewEgg('NOSORT');\n        this.ebay = new Ebay('NOSORT');\n\n        // Misc State Vars\n        this.advancedSearch = false;\n        this.results = [];\n        this.filteredResults = [];\n\n        // Function Binding\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleSiteChange = this.handleSiteChange.bind(this);\n        this.handleMinChange = this.handleMinChange.bind(this);\n        this.handleMaxChange = this.handleMaxChange.bind(this);\n        this.handleSortChange = this.handleSortChange.bind(this);\n        this.handleSearchChange = this.handleSearchChange.bind(this);\n    }\n\n    handleChange(event) {\n        this.setState({\n            value: event.target.value,\n            site: this.state.site,\n            min: this.state.min,\n            max: this.state.max,\n            productSort: this.state.productSort\n        });\n    }\n\n    handleSubmit(event) {       // triggers when form is submitted\n\n        // Error Handling\n        if (this.state.min.length > 0 && this.state.max.length > 0) {\n            if (parseInt(this.state.min, 10) > parseInt(this.state.max, 10)) {\n                alert(\"Minimum price can't be greater than maximum price\");\n                return;\n            }\n        }\n\n        let results = [];       // array of SearchResult objects\n\n        //// Call APIs, fill in results with the returned information\n\n        // Newegg\n        let apiResults = [];\n        if (this.state.site === \"newegg\" || this.state.site === \"all\") {\n            apiResults = this.newegg.searchItem(this.state.value);\n            for (let i = 0; i < defaultResultLimit && i < apiResults.length; i++) {\n                results.push(apiResults[i]);\n            }\n        }\n\n        // Ebay\n        if (this.state.site === \"ebay\" || this.state.site === \"all\") {\n            apiResults = this.ebay.searchItem(this.state.value);\n            for (let i = 0; i < defaultResultLimit && i < apiResults.length; i++) {\n                results.push(apiResults[i]);\n            }\n        }\n\n        // Craigslist\n        if (this.state.site === \"craigslist\" || this.state.site === \"all\") {\n            apiResults = this.craigslist.searchItem(this.state.value);\n            for (let i = 0; i < defaultResultLimit && i < apiResults.length; i++) {\n                results.push(apiResults[i]);\n            }\n        }\n\n        //// Render results to webpage\n        this.results = results;\n\n        if (this.state.productSort.localeCompare(\"ascending\") === 0) {      // sorting\n            results.sort(function(a, b) { return parseInt(a.price, 10) - parseInt(b.price, 10); });\n        } else if (this.state.productSort.localeCompare(\"descending\") === 0) {\n            results.sort(function(a, b) { return parseInt(b.price, 10) - parseInt(a.price, 10); });\n        }\n\n        let items = [];     // contains JSX <li> objects\n        for (let i = 0; i < results.length; i++) {\n            let flag = false;\n\n            if (this.state.min.length > 0 && this.state.max.length > 0) {\n                let min = parseInt(this.state.min, 10);\n                let max = parseInt(this.state.max, 10);\n                if (parseInt(results[i].price, 10) >= min && parseInt(results[i].price, 10) <= max )\n                {\n                    flag = true;\n                }\n                else {\n                    flag = false;\n                }\n            }\n            else if (this.state.min.length > 0) {\n                let min = parseInt(this.state.min, 10);\n                if (parseInt(results[i].price, 10) >= min) {\n                    flag = true;\n                } else {\n                    flag = false;\n                }\n            }\n            else if (this.state.max.length > 0) {\n                let max = parseInt(this.state.max, 10);\n                if (parseInt(results[i].price, 10) <= max) {\n                    flag = true;\n                } else {\n                    flag = false;\n                }\n            }\n            else {              // neither min nor max set\n                flag = true;\n            }\n\n            if (this.state.site.localeCompare(\"all\") !== 0) {       // if the result is not in the specified marketplace\n                if (this.state.site.localeCompare(results[i].site) !== 0) {\n                    flag = false;\n                }\n            }\n\n            if (flag === true) {\n                items.push(<li key={i}>{results[i].name}, ${results[i].price}, <a href={results[i].url} target=\"_blank\" rel=\"noopener noreferrer\">{results[i].site}</a><br /><br /></li>);\n            }\n        }\n\n        if (items.length > 0) {\n            ReactDOM.render(\n                <ul>\n                    {items}\n                </ul>,\n                document.getElementById('results')\n            );\n        } else {\n            ReactDOM.render(\n                <p>\n\n                </p>,\n                document.getElementById('results')\n            );\n            alert('No results found');\n        }\n\n        event.preventDefault();     // not sure what this does...\n    }\n\n    handleSiteChange(event) {\n        this.setState({\n            value: this.state.value,\n            site: event.target.value,\n            min: this.state.min,\n            max: this.state.max,\n            productSort: this.state.productSort\n        });\n\n        if (this.results.length > 0) {\n            let items = [];\n            for (let i = 0; i < this.results.length; i++) {\n                let flag = true;\n                if (event.target.value.localeCompare(\"all\") !== 0) {       // if the result is not in the specified marketplace\n                    if (event.target.value.localeCompare(this.results[i].site) !== 0) {\n                        flag = false;\n                    }\n                }\n\n                if (flag === true) {\n                    items.push(<li key={i}>Name: {this.results[i].name}, ${this.results[i].price}, <a href={this.results[i].url} target=\"_blank\" rel=\"noopener noreferrer\">{this.results[i].site}</a><br /><br /></li>);\n                }\n            }\n\n            ReactDOM.render(\n                <ul>\n                    {items}\n                </ul>,\n                document.getElementById('results')\n            );\n        }\n    }\n\n    handleMinChange(event) {\n        this.setState({\n            value: this.state.value,\n            site: this.state.site,\n            min: event.target.value,\n            max: this.state.max,\n            productSort: this.state.productSort\n        })\n    }\n\n    handleMaxChange(event) {\n        this.setState({\n            value: this.state.value,\n            site: this.state.site,\n            min: this.state.min,\n            max: event.target.value,\n            productSort: this.state.productSort\n        })\n    }\n\n    handleSortChange(event) {\n        this.setState({\n            value: this.state.value,\n            site: this.state.site,\n            min: this.state.min,\n            max: this.state.max,\n            productSort: event.target.value\n        });\n\n        if (this.results.length > 0) {\n            if (event.target.value.localeCompare(\"ascending\") === 0) {      // sorting\n                this.results.sort(function(a, b) { return parseInt(a.price, 10) - parseInt(b.price, 10); });\n            } else if (event.target.value.localeCompare(\"descending\") === 0) {\n                this.results.sort(function(a, b) { return parseInt(b.price, 10) - parseInt(a.price, 10); });\n            }\n\n            let items = [];\n            for (let i = 0; i < this.results.length; i++) {\n                let flag = true;\n                if (this.state.site.localeCompare(\"all\") !== 0) {       // if the result is not in the specified marketplace\n                    if (this.state.site.localeCompare(this.results[i].site) !== 0) {\n                        flag = false;\n                    }\n                }\n\n                if (flag === true) {\n                    items.push(<li key={i}>Name: {this.results[i].name}, ${this.results[i].price}, <a\n                        href={this.results[i].url} target=\"_blank\" rel=\"noopener noreferrer\">{this.results[i].site}</a><br/><br/></li>);\n                }\n            }\n            ReactDOM.render(\n                <ul>\n                    {items}\n                </ul>,\n                document.getElementById('results')\n            );\n        }\n    }\n\n    handleSearchChange(event) {\n        if (this.advancedSearch === true) {\n            this.advancedSearch = false;\n            this.setState({\n                value: this.state.value,\n                site: defaultSite,\n                min: '',\n                max: '',\n                productSort: defaultSort\n            });\n        } else {\n            this.advancedSearch = true;\n        }\n        this.forceUpdate();                     // this tells index.js to re-render this component\n    }\n\n    render() {\n        if (this.advancedSearch === false) {            // both conditionals share a common SearchForm, make sure they mirror eachother\n            return (\n                <div className=\"SearchForm\">\n                    <form onSubmit={this.handleSubmit}>\n                        <div className=\"SearchBar\">\n                            <label>\n                                <input type=\"text\" placeholder=\"Search...\" value={this.state.value} onChange={this.handleChange} />\n                            </label>\n\n                            <button type=\"submit\"><i className=\"fa fa-search\"></i></button><br /><br />\n                        </div>\n                        <label>\n                            <a href=\"#\" onClick={this.handleSearchChange}>Advanced</a>\n                        </label><br /><br />\n                    </form>\n                </div>\n            );\n        } else {\n            return (\n                <div className=\"SearchForm\">\n                    <form onSubmit={this.handleSubmit}>\n                        <div className=\"SearchBar\">\n                            <label>\n                                <input type=\"text\" placeholder=\"Search...\" value={this.state.value} onChange={this.handleChange} />\n                            </label>\n\n                            <button type=\"submit\"><i className=\"fa fa-search\"></i></button><br /><br />\n                        </div>\n                        <label>\n                            <a href=\"#\" onClick={this.handleSearchChange}>Advanced</a>\n                        </label><br /><br />\n\n                        <div id=\"advanced_search\">\n                            Price Range: <input id=\"min\" type=\"number\" name=\"min_price\" placeholder=\"min\" className =\"PriceRange\" title=\"Enter whole\n                        number, no letters, no symbols\" value={this.state.min} onChange={this.handleMinChange}/>\n                            ~<input id=\"max\" type=\"number\" name=\"max_price\" placeholder=\"max\" className =\"PriceRange\" title=\"Enter whole\n                        number, no letters, no symbols\" value={this.state.max} onChange={this.handleMaxChange}/><br /><br />\n\n                            Sort Products by Price: <label className=\"radio-inline\">\n                                <input id=\"noSort\" type=\"radio\" name=\"sort\" value=\"none\" onChange={this.handleSortChange} defaultChecked />  No Sort\n                            </label>\n\n                            <label className=\"radio-inline\">\n                                <input id=\"ascending\" type=\"radio\" name=\"sort\" value=\"ascending\" onChange={this.handleSortChange} />  Ascending\n                            </label>\n\n                            <label className=\"radio-inline\">\n                                <input id=\"descending\" type=\"radio\" name=\"sort\" value=\"descending\" onChange={this.handleSortChange} />  Descending\n                            </label><br /><br />\n\n                            Marketplaces: <label className=\"radio-inline\">\n                                <input id=\"all\" type=\"radio\" name=\"site\" value=\"all\" onChange={this.handleSiteChange} defaultChecked />  All\n                            </label>\n\n                            <label className=\"radio-inline\">\n                                <input id=\"amazon\" type=\"radio\" name=\"site\" value=\"newegg\" onChange={this.handleSiteChange} />  Newegg\n                            </label>\n\n                            <label className=\"radio-inline\">\n                                <input id=\"ebay\" type=\"radio\" name=\"site\" value=\"ebay\" onChange={this.handleSiteChange} />  Ebay\n                            </label>\n\n                            <label className=\"radio-inline\">\n                                <input id=\"craigslist\" type=\"radio\" name=\"site\" value=\"craigslist\" onChange={this.handleSiteChange} />  Craigslist\n                            </label><br /><br />\n\n                        </div>\n                    </form>\n                </div>\n            );\n        }\n\n    }\n}\n\nexport default SearchForm;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SearchForm from './SearchForm.js';\n\nconst headerStyle = {\n    fontSize: '120',\n    border: 'dashed purple 5px'\n}\n\nReactDOM.render(\n    <h1 style={headerStyle}> Cadabra </h1>,\n    document.getElementById('root')\n);\n\nReactDOM.render(\n    <SearchForm />,\n    document.getElementById('search')\n);"],"sourceRoot":""}